# ASP.NET Core
# Build and test ASP.NET Core projects targeting .NET Core.
# Add steps that run tests, create a NuGet package, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/dotnet-core

trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

variables:
- group: azure-aci
- name: buildConfiguration
  value: Release



steps:
- script: echo $(USERNAME)
- script: echo $(dummy)

# its working, no need to create a lot of RG
# - task: AzureCLI@2
#   inputs:
#     azureSubscription: 'Visual Studio Professional(160a804a-ab3b-4d4d-ac48-0d575a8dc8f0)'
#     scriptType: 'bash'
#     scriptLocation: 'inlineScript'
#     inlineScript: 'az group create -l westus -n MyResourceGroupBatch'

- task: CmdLine@2
  inputs:
    script: 'echo $(dummy)'


- task: AzureCLI@2
  inputs:
    azureSubscription: 'Visual Studio Professional(160a804a-ab3b-4d4d-ac48-0d575a8dc8f0)'
    scriptType: 'bash'
    scriptLocation: 'inlineScript'
    inlineScript: 'az acr repository show-tags --name $(ACR_NAME) --repository $(USERNAME) --output table'


